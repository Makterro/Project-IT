{% extends 'base.html' %}

{% block title %}
    Интерактивная карта
{% endblock %}

{% block content %}
    <style>
        .region {
            fill: #ccc;
            stroke: #000;
            stroke-width: 1px;
            cursor: pointer;
        }

        .region:hover {
            fill: #aaa;
        }
    </style>

    
    <div id="map-container"></div>
    
    
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script>
        const regionsData = [
            {
                isoCode: "RU-AD",
                name: "Адыгея республика",
                path: "M32.7 366.7L31.9 365.5L30.5 364.1L29.8 364.4V365.6L30.4 366.7L33.1 369.5H34.4L34.8 369L36.2 369.9L36.9 371.6L36.1 372.4L34.7 372.3L33.9 373.8H32.7V375.9L33.2 377.1L32.9 378.1H30L29 377.6L27.9 378.7L29.8 381.1L30.5 382.4L31.1 381.8L32.4 381.6V380.6L33.3 379.8L34.7 378.4L36 376.5L37.1 375.4L38.3 374.9L38.8 376.6L39.5 375.2V372.4V370.6L38.6 370L37.8 369.2L36.7 368.6L36.3 367.2L34.7 366.7L34 367L32.7 366.7Z"
            },
            {
                isoCode: "RU-AL",
                name: "Алтай республика",
                path: "M396.3 452.3L393.3 453L391.2 455.1L387.4 455L384.2 456.8L382.6 458.4L378.9 457.8L377.8 455.9L376.4 453.4L375.7 450.8L373.7 452.8L370.4 454.1L367.4 453.1L364 452V449L361.3 447.4L360.3 445.1L358.1 443.7L357.6 440.7L360.1 440.5V438.3L359 437.2L357.3 435.5L358.5 434.3L361.2 433.4L364.5 432.2H366.7L369.7 429.1V427L371.2 425.5L373.6 427L374.8 425.4H376.1L377.1 423.9L375.7 422.5L376.8 420.5L378.8 419.5L381.3 421.7H383.8L386 422.8H387.2L387.3 425.1L385.7 426.7L383.8 428.6L384.4 431.1L383.2 432.3L385.8 434.9H387.8L389 432.4H390.3L390.7 435.3L391.6 438.1L394.5 441L396.8 443.2L396.2 445L394.1 445.5L393.1 446.5L395 448.4V450.5L396.3 452.3Z"
            },
            {
                isoCode: "RU-ALT",
                name: "Алтайский край",
                path: "M357.6 440.6L355.8 439L353.4 438L351.8 436.4H348.6L347 438L343.8 438.5L342.5 437.2L339.7 437.7L338.2 436.2L336.8 434.8V432.9L335.4 431.3L333.4 431.9L332 434.8L329.2 435.3L327.6 432L326.7 429.1L326.1 425.8L323.9 422V419L321.9 417.1V412.9L320.4 407.8L318.2 405.6L319.7 404.9L321 403.4L322.4 404.8L326.8 403.1H331L334.7 400.3L338.4 399.1L341 399L344.5 402.5V404.3L345.6 406H347L348.7 408.5L350.4 407.7L351.5 404.8L353.9 402.4L355.4 403.9L357.1 402.2L358.8 403.2L360.5 401.9H363L367.2 399.5L368.7 402.4H371L372.6 405.5L374 407"
            },
            {
                isoCode: "RU-KRSK",
                name: "Красноясркий край",
                path: "M463.3 228.9L462.6 227.2L462.4 226.2L465.1 225.2L467.9 221.3L469.8 220.7L472.4 221.5L473.2 219.8V217.7L471.8 216.3L472.5 213.8L474.4 213.1V211.1L474.3 208.5L476.4 207.1L478.8 204.7L479.3 202.9H480.3L480.1 200.3H478.1L476.3 196.9V193.8L474.7 192.2L471.3 189.7V188.4L468.7 187.4L467.8 185.5L468.2 183L467.1 181.9L466 180.2L465.4 178.7L466.3 177.8L466.6 176.6L465.6 175.8L465.3 173.6H463.8L461.9 173.7L462 175.7L461.9 176.7L463.4 176.8L464.4 177.8L463.2 180.1L461.2 180.9L459 182.7C459 182.7 458.6 185 457.5 185C456.3 185 454.3 185.6 454.3 185.6L452 187L452.6 189.5L450.3 190.5L450.9 188.2L451.4 184.9L453.5 182.8L454.5 179.9L457.5 179.1L458.3 175.2L460.2 173.3L461 169.8V168.5L463.5 165.5L465 164L466.2 161.5L467.5 159.7V157.2L469 155.7L467.4 153L464.9 151.6L463.9 150.6L466.4 151.1L466.7 148.4L463.7 145.4L462.8 146.4L461.3 145.1L460 142.6L458.5 141.1L456.5 142.1L455 140.6L452.4 142.4H449.9L447.1 143.9L448.2 145L447.6 147.2C447.6 147.2 445.6 146.3 444.8 146.3C444.1 146.3 444.2 144.7 444.2 144.7L445.8 143.1L444 141.3H441.5L440.7 142.1L436.7 141.9L438.3 139.7L440.3 137.7L439.7 135.1L437.8 135.4L435.3 133.9L433.3 136.1L431 137.7L429.1 142.4L428.5 144.4V147.4L429.5 148.2L429.8 150.4H428.9L426 151.3H423.2L424 152.7L425.5 153.8L426.6 155.3L424.1 154.8L421.6 155.3L421.2 157.3L417.3 157.2L415.7 158.8V157L416.9 154.7L414.6 155.1L414 156.5L411.2 156.9L407.9 157.7L406.6 159L408.9 159.8L408.1 160.7L404.7 161.7L403.5 162.9L398.7 163.6L397.4 164.9L393.9 166.2L392.5 169.1L389 169L389.1 170.9L390.9 171L389.1 172.4L387.8 174.2L388.9 175.3L388.2 176.9L389.2 178L387.7 178.4C387.7 178.4 387.7 176.4 386.7 177.4L385.2 178.9L386.5 180.2L388 180.7L389.3 182.6L388 183.9H385.6L382.3 185.3H377.4V186.1L374.4 185H368.4L365.9 187.3L366.5 190.5L367.5 191.5L366.4 194L365.6 197L366.6 198L368.4 200.9L370.8 201.8L370.7 203.6L372.1 205.5L371.6 207.5H368.2L365.2 204.5L366.1 202L362.8 200.2L361.1 198.5L359 198.8L356.5 198.3L356.6 199.8H357.8L358.3 201.2L359.4 202.3L361 202.6L362.8 203.6L363.2 205.2L362 206.4L362.3 207.7L359.9 208.1L358.2 209.8L359 211.5L359.5 210.8L360.3 212.4L363 213.9L362.7 216.9V221.3H360.2L359.2 222.8L357.3 224.7L355 226.4L355.1 228.7L356.2 229.8L356.5 231.2L358.1 232.8L360.5 233.2L360.8 234.8L361.6 235.6L363.1 234.3C363.1 234.3 363.7 235.3 363.9 235.1L365.4 233.6L365.3 236.1L367.3 236.5V238.5L368.5 241.4L367.8 243.2H366.8L367.8 245.1L367 247.5L365.6 248.9L365.1 250.5L363.3 250.1L363.2 252.1L364.4 253.3L364.8 255.6L363.7 257.5L364.8 258.6V260.4L367.6 262L368.7 264.2L367 265.8V267.1L367.9 268.6V270.9L366.8 271.8L368.2 274.3H369.7L371.2 275.8L372.3 278.1L372.6 281L371.3 282.3L371.9 285L374.8 285.6L376.3 287.1L377.8 285.6L378.3 288.6L377.8 291.3L378.7 293.3L377 295L375.2 297.3L373.9 299.7L375.8 302.4V305.6L374 307.4L373.8 310.3L369.7 314.4V318.3L372.9 320.4L376.5 322L374.6 325.1L370.1 327.1L367.2 330L369.7 335.1L367.4 337.4L368.2 339.9L371 340.8L374.4 339.9H378.5L381.5 340.7L383 343L385.4 345.4L386.2 348.3L389.9 348L391.2 349.3L387.1 353.7L385.9 356.9L387.8 359.9L388.4 361.9H390.6L394 363L394.1 365.8L391.3 367.2L389.7 370.1V373.9L389.1 376.6L389.5 378.6L390.5 379.5L392.3 380.1L393.6 382.7L393.8 386.3L392.3 386.9L390 389.2L391.4 391.6L393.8 394.2L396.3 394.7L397.5 393.5L401.2 393.9L403.6 393.1L404.4 394.7L403.6 398.1L406.2 400.7L407 403.7L409.7 406.4V408.8L410.4 410.9L409.6 413.5L407.5 415.6L407.8 418.2L405.7 420.3L403.4 421.3L402.3 424.1L401.4 425.4L403.6 427.6L406.5 428.6H409.4L412 429.9H414L416.7 428.8L420.4 425.6L423.1 424.8V421.6L425 419.7V417.6L427.9 416.8L428.7 412.2L429.9 411L433.2 411.6L435.6 409.2L438.4 409.3L439.5 408.2L440.9 408.7L441.6 407.1L439.9 406.1L436.3 402.5L433.9 401L434.5 399.4L436.1 399.7V398.1L439.8 397.9L439.5 395.9L440.4 394.3L439.9 392.6V389.6L440.9 388.9L440.8 386.9L439.4 384.9L440.3 382.9L440.8 380.5H442.6L443.5 378.2L445.4 377.2V375.5L444.2 372.6L442.4 370.8V367.2L443.9 365.7L444 361.9L446.7 361.3L449.2 361.7L452.4 360.5L453.3 357.8L455.2 356.8L457.3 358.9L458.5 361.8L461 363.5L462.7 362.3L460.9 360.5L461.9 358.2L462.5 355.5L464.4 352.8L467.1 350.1L468.8 347.6L467.6 345L468.2 342.5L470.4 341.1L472 341.5L472.4 342.8L474.4 343.7L475.2 345.2H477.4L479 346.8H480.9L481.5 345.4V343.8L482.7 341.9L483.8 340.8L483.1 339L482.1 337H480.1L479.7 335.8L480.5 334.3L481.5 332.6L482.9 332.8L482.2 330.9V328.7L480.2 327.9L479.3 328.8L477.2 326.7L475.9 326.1L475.3 323.6L475.7 320.8L476.7 319.8L476.1 316.8L478.3 315.9L478.8 313.6L480.1 312.8V309.4L481.2 308.6L482.8 307L481.2 305.4L482.1 303.9L482.7 302.1L479.1 298.5V296.7L479.8 294.6L478.9 292.1V289.8L479.9 287.5L481.6 286.9L483.3 285.2L484.8 285.5L485.9 284.4L486.6 283L486.5 281.5L484.6 281.4L483.2 282.8L481.5 282L479.2 282.9L478.1 281.6H476.9L475.9 282.6H473.8L472.5 282V279.5L473.3 278.7V277L472.7 275.1L474.2 272.7L475.1 270.2L472.5 267.6L471.8 264.1L469.6 262.9V260.7L470.5 259.9L469.6 259V256.9L467.2 255.9L466.5 256.6L465.8 254.5L467 253.3L468.3 251.2L470.2 250.6L469.5 245.7L468.9 242.5V240.8L466.7 236.8L466.5 232.6L464.3 231.1L463.3 228.9Z"
            }
            // Добавьте остальные регионы
        ];

        const svg = d3.select("#map-container")
            .append("svg")
            .attr("width", 809)
            .attr("height", 459);

        svg.selectAll("path")
            .data(regionsData)
            .enter()
            .append("path")
            .attr("d", d => d.path)
            .attr("class", "region")
            .on("click", regionClickHandler);

        function regionClickHandler(event, region) {
            alert("Вы кликнули на регион: " + region.name);
            // Дополнительные действия при клике на регион
        }
    </script>
{% endblock %}